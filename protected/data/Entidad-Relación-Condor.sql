
/* Drop Tables */

DROP TABLE IF EXISTS CONDOR.CONTENIDO;
DROP TABLE IF EXISTS CONDOR.EJEMPLOS;
DROP TABLE IF EXISTS CONDOR.EJERCICIOS;
DROP TABLE IF EXISTS CONDOR.FREFERENCIAS;
DROP TABLE IF EXISTS CONDOR.LECCIONES;
DROP TABLE IF EXISTS CONDOR.TEMAS;
DROP TABLE IF EXISTS CONDOR.USUARIOS;



/* Drop Sequences */

DROP SEQUENCE IF EXISTS CONDOR.CONTENIDO_ID_CONTENIDO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.CONTENIDO_ID_CONTENIDO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.CONTENIDO_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.CONTENIDO_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJEMPLOS_ID_EJEMPLOS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJEMPLOS_ID_EJEMPLOS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJEMPLOS_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJEMPLOS_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJERCICIOS_ID_EJERCICIOS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJERCICIOS_ID_EJERCICIOS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJERCICIOS_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EJERCICIOS_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVALUACIONES_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVALUACIONES_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVALUACIONES_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVALUACIONES_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVALUACIONES_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVALUACIONES_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_PREGUNTAS_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_PREGUNTAS_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_PREGUNTAS_ID_EVA_PREGUNTAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_PREGUNTAS_ID_EVA_PREGUNTAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_RESPUESTAS_ID_EVA_PREGUNTAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_RESPUESTAS_ID_EVA_PREGUNTAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_RESPUESTAS_ID_EVA_RESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.EVA_RESPUESTAS_ID_EVA_RESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.FREFERENCIAS_ID_FREFERENCIAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.FREFERENCIAS_ID_FREFERENCIAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.FREFERENCIAS_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.FREFERENCIAS_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.LECCIONES_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.LECCIONES_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.LECCIONES_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.LECCIONES_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_EVA_PREGUNTAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_EVA_PREGUNTAS_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_EVA_RESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_EVA_RESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_RESULTADOS_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_RESULTADOS_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.RESULTADOS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.TEMAS_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.TEMAS_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.TEMAS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.TEMAS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.USUARIOS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS CONDOR.USUARIOS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.CONTENIDO_ID_CONTENIDO_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.CONTENIDO_ID_CONTENIDO_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EJEMPLOS_ID_EJEMPLOS_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EJEMPLOS_ID_EJEMPLOS_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EJERCICIOS_ID_EJERCICIO_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EJERCICIOS_ID_EJERCICIO_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EVALUACIONES_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EVALUACIONES_ID_EVALUACIONES_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EVA_PREGUNTA_ID_PREGUNTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EVA_PREGUNTA_ID_PREGUNTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EVA_RESPUESTA_ID_RESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.EVA_RESPUESTA_ID_RESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.FUENTES_BIBLIOGRAFICAS_ID_FUENTES_BIBLIOGRAFICAS_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.FUENTES_BIBLIOGRAFICAS_ID_FUENTES_BIBLIOGRAFICAS_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.LECCION_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.LECCION_ID_LECCION_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.REMEDIALES_ID_REMEDIALES_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.REMEDIALES_ID_REMEDIALES_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.R_PREGUNTA_ID_RPREGUNTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.R_PREGUNTA_ID_RPREGUNTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.R_RESPUESTA_ID_RRESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.R_RESPUESTA_ID_RRESPUESTA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.TEMAS_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.TEMAS_ID_TEMA_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.USUARIOS_ID_USUARIO_SEQ;
DROP SEQUENCE IF EXISTS PUBLIC.USUARIOS_ID_USUARIO_SEQ;




/* Create Sequences */

CREATE SEQUENCE CONDOR.CONTENIDO_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.CONTENIDO_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EJEMPLOS_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EJEMPLOS_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EJERCICIOS_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EJERCICIOS_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVALUACIONES_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVALUACIONES_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVALUACIONES_ID_TEMA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVALUACIONES_ID_TEMA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVALUACIONES_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVALUACIONES_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_PREGUNTAS_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_PREGUNTAS_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_PREGUNTAS_ID_EVA_PREGUNTAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_PREGUNTAS_ID_EVA_PREGUNTAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_RESPUESTAS_ID_EVA_PREGUNTAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_RESPUESTAS_ID_EVA_PREGUNTAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_RESPUESTAS_ID_EVA_RESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.EVA_RESPUESTAS_ID_EVA_RESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.FREFERENCIAS_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.FREFERENCIAS_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.LECCIONES_ID_TEMA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.LECCIONES_ID_TEMA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_EVA_PREGUNTAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_EVA_PREGUNTAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_EVA_RESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_EVA_RESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_RESULTADOS_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_RESULTADOS_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.RESULTADOS_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.TEMAS_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE CONDOR.TEMAS_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.CONTENIDO_ID_CONTENIDO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.CONTENIDO_ID_CONTENIDO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EJEMPLOS_ID_EJEMPLOS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EJEMPLOS_ID_EJEMPLOS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EJERCICIOS_ID_EJERCICIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EJERCICIOS_ID_EJERCICIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EVALUACIONES_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EVALUACIONES_ID_EVALUACIONES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EVA_PREGUNTA_ID_PREGUNTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EVA_PREGUNTA_ID_PREGUNTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EVA_RESPUESTA_ID_RESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.EVA_RESPUESTA_ID_RESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.FUENTES_BIBLIOGRAFICAS_ID_FUENTES_BIBLIOGRAFICAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.FUENTES_BIBLIOGRAFICAS_ID_FUENTES_BIBLIOGRAFICAS_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.LECCION_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.LECCION_ID_LECCION_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.REMEDIALES_ID_REMEDIALES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.REMEDIALES_ID_REMEDIALES_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.R_PREGUNTA_ID_RPREGUNTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.R_PREGUNTA_ID_RPREGUNTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.R_RESPUESTA_ID_RRESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.R_RESPUESTA_ID_RRESPUESTA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.TEMAS_ID_TEMA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.TEMAS_ID_TEMA_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.USUARIOS_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;
CREATE SEQUENCE PUBLIC.USUARIOS_ID_USUARIO_SEQ INCREMENT 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1;



/* Create Tables */

CREATE TABLE CONDOR.CONTENIDO
(
	-- ID del contenido
	ID_CONTENIDO SERIAL NOT NULL,
	-- Nombre del contenido
	NB_CONTENIDO VARCHAR(80) NOT NULL UNIQUE,
	-- Aquí se agregan los distintos contenido asociados a la lección
	CONT_CONTENIDO TEXT NOT NULL UNIQUE,
	-- ID de lecciones
	ID_LECCION INT NOT NULL,
	CONSTRAINT contenido_pkey PRIMARY KEY (ID_CONTENIDO)
) WITHOUT OIDS;


CREATE TABLE CONDOR.EJEMPLOS
(
	-- ID de los ejemplos
	ID_EJEMPLOS SERIAL NOT NULL,
	-- Nombre de los ejemplos
	NB_EJEMPLOS VARCHAR(80) NOT NULL UNIQUE,
	-- Ejemplos asociados a la lecciones
	EJ_EJEMPLOS TEXT NOT NULL UNIQUE,
	-- ID de lecciones
	ID_LECCION INT NOT NULL,
	CONSTRAINT ejemplos_pkey PRIMARY KEY (ID_EJEMPLOS)
) WITHOUT OIDS;


CREATE TABLE CONDOR.EJERCICIOS
(
	-- ID de ejercicios
	ID_EJERCICIOS SERIAL NOT NULL,
	-- nombre de los ejercicios
	NB_EJERCICIOS VARCHAR(100) NOT NULL UNIQUE,
	-- Descripción de los ejercicios
	DES_EJERCICIO TEXT NOT NULL UNIQUE,
	-- Ejercicios relacionado con la lecciones
	EJ_EJERCICIOS TEXT NOT NULL UNIQUE,
	-- ID de lecciones
	ID_LECCION INT NOT NULL,
	CONSTRAINT ejercicios_pkey PRIMARY KEY (ID_EJERCICIOS)
) WITHOUT OIDS;


CREATE TABLE CONDOR.FREFERENCIAS
(
	-- ID de fuentes de referencias
	ID_FREFERENCIAS SERIAL NOT NULL,
	-- nombre de la fuente de referencias
	NB_FREFERENCIAS VARCHAR(80) NOT NULL UNIQUE,
	-- Fuentes de referencia azociada a la lecciones
	FR_FREFERENCIAS TEXT NOT NULL UNIQUE,
	-- ID de lecciones
	ID_LECCION INT NOT NULL,
	CONSTRAINT freferencias_pkey PRIMARY KEY (ID_FREFERENCIAS)
) WITHOUT OIDS;


CREATE TABLE CONDOR.LECCIONES
(
	-- ID de lecciones
	ID_LECCION SERIAL NOT NULL,
	-- nombre de la lección
	NB_LECCION VARCHAR(50) NOT NULL UNIQUE,
	-- contenido de las lecciones
	CONT_LECCIONES TEXT NOT NULL UNIQUE,
	-- ID del tema
	ID_TEMA INT NOT NULL,
	CONSTRAINT lecciones_pkey PRIMARY KEY (ID_LECCION)
) WITHOUT OIDS;


CREATE TABLE CONDOR.TEMAS
(
	-- ID del tema
	ID_TEMA SERIAL NOT NULL,
	-- Nombre del tema 
	NB_TEMA VARCHAR(50) NOT NULL UNIQUE,
	-- Descripción de los temas
	DES_TEMAS TEXT NOT NULL UNIQUE,
	-- ID del usuario registrado
	ID_USUARIO INT NOT NULL,
	CONSTRAINT temas_pkey PRIMARY KEY (ID_TEMA)
) WITHOUT OIDS;


CREATE TABLE CONDOR.USUARIOS
(
	-- ID del usuario registrado
	ID_USUARIO SERIAL NOT NULL,
	-- nombre del usuario a registrarse
	NB_USUARIO VARCHAR(80) NOT NULL UNIQUE,
	-- Apellido del usuario registrado
	AP_USUARIO CHAR(80) NOT NULL,
	-- Profesión del usuario registrado
	PF_USUARIO VARCHAR(20) NOT NULL,
	-- Login del usuario registrado
	LOG_USUARIO VARCHAR(20) NOT NULL UNIQUE,
	-- Password del usuario registrado
	PASS_USUARIO VARCHAR(15) NOT NULL,
	-- Estado del usuario 
	ST_USUARIO BOOLEAN NOT NULL,
	-- Tipos de usuarios
	TP_USUARIOS CHAR(1) NOT NULL,
	CONSTRAINT usuarios_pkey PRIMARY KEY (ID_USUARIO)
) WITHOUT OIDS;



/* Create Foreign Keys */

ALTER TABLE CONDOR.CONTENIDO
	ADD CONSTRAINT CONTENIDO_ID_LECCION_FKEY FOREIGN KEY (ID_LECCION)
	REFERENCES CONDOR.LECCIONES (ID_LECCION)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE CONDOR.EJEMPLOS
	ADD CONSTRAINT EJEMPLOS_ID_LECCION_FKEY FOREIGN KEY (ID_LECCION)
	REFERENCES CONDOR.LECCIONES (ID_LECCION)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE CONDOR.EJERCICIOS
	ADD CONSTRAINT EJERCICIOS_ID_LECCION_FKEY FOREIGN KEY (ID_LECCION)
	REFERENCES CONDOR.LECCIONES (ID_LECCION)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE CONDOR.FREFERENCIAS
	ADD CONSTRAINT FREFERENCIAS_ID_LECCION_FKEY FOREIGN KEY (ID_LECCION)
	REFERENCES CONDOR.LECCIONES (ID_LECCION)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE CONDOR.LECCIONES
	ADD CONSTRAINT LECCIONES_ID_TEMA_FKEY FOREIGN KEY (ID_TEMA)
	REFERENCES CONDOR.TEMAS (ID_TEMA)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE CONDOR.TEMAS
	ADD CONSTRAINT TEMAS_ID_USUARIO_FKEY FOREIGN KEY (ID_USUARIO)
	REFERENCES CONDOR.USUARIOS (ID_USUARIO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;



/* Comments */

COMMENT ON COLUMN CONDOR.CONTENIDO.ID_CONTENIDO IS 'ID del contenido';
COMMENT ON COLUMN CONDOR.CONTENIDO.NB_CONTENIDO IS 'Nombre del contenido';
COMMENT ON COLUMN CONDOR.CONTENIDO.CONT_CONTENIDO IS 'Aquí se agregan los distintos contenido asociados a la lección';
COMMENT ON COLUMN CONDOR.CONTENIDO.ID_LECCION IS 'ID de lecciones';
COMMENT ON COLUMN CONDOR.EJEMPLOS.ID_EJEMPLOS IS 'ID de los ejemplos';
COMMENT ON COLUMN CONDOR.EJEMPLOS.NB_EJEMPLOS IS 'Nombre de los ejemplos';
COMMENT ON COLUMN CONDOR.EJEMPLOS.EJ_EJEMPLOS IS 'Ejemplos asociados a la lecciones';
COMMENT ON COLUMN CONDOR.EJEMPLOS.ID_LECCION IS 'ID de lecciones';
COMMENT ON COLUMN CONDOR.EJERCICIOS.ID_EJERCICIOS IS 'ID de ejercicios';
COMMENT ON COLUMN CONDOR.EJERCICIOS.NB_EJERCICIOS IS 'nombre de los ejercicios';
COMMENT ON COLUMN CONDOR.EJERCICIOS.DES_EJERCICIO IS 'Descripción de los ejercicios';
COMMENT ON COLUMN CONDOR.EJERCICIOS.EJ_EJERCICIOS IS 'Ejercicios relacionado con la lecciones';
COMMENT ON COLUMN CONDOR.EJERCICIOS.ID_LECCION IS 'ID de lecciones';
COMMENT ON COLUMN CONDOR.FREFERENCIAS.ID_FREFERENCIAS IS 'ID de fuentes de referencias';
COMMENT ON COLUMN CONDOR.FREFERENCIAS.NB_FREFERENCIAS IS 'nombre de la fuente de referencias';
COMMENT ON COLUMN CONDOR.FREFERENCIAS.FR_FREFERENCIAS IS 'Fuentes de referencia azociada a la lecciones';
COMMENT ON COLUMN CONDOR.FREFERENCIAS.ID_LECCION IS 'ID de lecciones';
COMMENT ON COLUMN CONDOR.LECCIONES.ID_LECCION IS 'ID de lecciones';
COMMENT ON COLUMN CONDOR.LECCIONES.NB_LECCION IS 'nombre de la lección';
COMMENT ON COLUMN CONDOR.LECCIONES.CONT_LECCIONES IS 'contenido de las lecciones';
COMMENT ON COLUMN CONDOR.LECCIONES.ID_TEMA IS 'ID del tema';
COMMENT ON COLUMN CONDOR.TEMAS.ID_TEMA IS 'ID del tema';
COMMENT ON COLUMN CONDOR.TEMAS.NB_TEMA IS 'Nombre del tema ';
COMMENT ON COLUMN CONDOR.TEMAS.DES_TEMAS IS 'Descripción de los temas';
COMMENT ON COLUMN CONDOR.TEMAS.ID_USUARIO IS 'ID del usuario registrado';
COMMENT ON COLUMN CONDOR.USUARIOS.ID_USUARIO IS 'ID del usuario registrado';
COMMENT ON COLUMN CONDOR.USUARIOS.NB_USUARIO IS 'nombre del usuario a registrarse';
COMMENT ON COLUMN CONDOR.USUARIOS.AP_USUARIO IS 'Apellido del usuario registrado';
COMMENT ON COLUMN CONDOR.USUARIOS.PF_USUARIO IS 'Profesión del usuario registrado';
COMMENT ON COLUMN CONDOR.USUARIOS.LOG_USUARIO IS 'Login del usuario registrado';
COMMENT ON COLUMN CONDOR.USUARIOS.PASS_USUARIO IS 'Password del usuario registrado';
COMMENT ON COLUMN CONDOR.USUARIOS.ST_USUARIO IS 'Estado del usuario ';
COMMENT ON COLUMN CONDOR.USUARIOS.TP_USUARIOS IS 'Tipos de usuarios';



